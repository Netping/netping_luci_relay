
# RELAY ADAPTER VARIABLES
# =======================

config 'relay.memo' modal
	option source 'user'
	option inputtype 'string'
	option validator 'string.ne'
	list visibility 'widget.modal.relay_settings'
	option oldbrother '0'
	option label 'Памятка'

config 'relay.embedded' modal
	option source 'config'
	list visibility 'widget.modal.relay_settings'
	option oldbrother 'relay.memo'
	option label 'Встроенное'

config 'relay.state_on' modal
	option source 'user'
	option inputtype 'string'
	option validator 'string.ne'
	list visibility 'widget.modal.relay_settings'
	option oldbrother 'relay.embedded'
	option label 'Имя состояния ВКЛ.'

config 'relay.state_off' modal
	option source 'user'
	option inputtype 'string'
	option validator 'string.ne'
	list visibility 'widget.modal.relay_settings'
	option oldbrother 'relay.state_on'
	option label 'Имя состояния ВЫКЛ.'

config 'relay.proto' modal
	option source 'ubus'
	option source_command 'ubus call relay list \'{"type": "protocol"}\''
	option inputtype 'list'
	list visibility 'widget.modal.relay_settings'
	option oldbrother 'relay.state_off'
	option label 'Протокол'

config 'relay.restart_time' modal
	option source 'user'
	option inputtype 'number'
	option validator 'number.ne'
	list visibility 'widget.modal.relay_settings'
	option oldbrother 'relay.proto'
	option label 'Время перезапуска'

# PROTOCOL ADAPTER VARIABLES
# ==========================

config 'relay.proto.http.address' modal
	option source 'user'
	option inputtype 'string'
	option validator 'ip_colon_port.ne'
	list visibility 'widget.modal.relay_settings'
	option oldbrother '0'
	option label 'Адрес и порт сервера'

config 'relay.proto.http.login' modal
	option source 'user'
	option inputtype 'string'
	option validator 'login.ne'
	list visibility 'widget.modal.relay_settings'
	option oldbrother 'relay.proto.http.address'
	option label 'Имя пользователя'

config 'relay.proto.http.password' modal
	option source 'user'
	option inputtype 'string'
	option validator 'password.ne'
	list visibility 'widget.modal.relay_settings'
	option oldbrother 'relay.proto.http.login'
	option label 'Пароль'

config 'relay.proto.snmp.address' modal
	option source 'user'
	option inputtype 'string'
	option validator 'snmp_address.ne'
	list visibility 'widget.modal.relay_settings'
	option oldbrother '0'
	option label 'SNMP-адрес'

config 'relay.proto.snmp.port' modal
	option source 'user'
	option inputtype 'string'
	option validator 'snmp_port.ne'
	list visibility 'widget.modal.relay_settings'
	option oldbrother 'relay.proto.snmp.address'
	option label 'SNMP-порт'

config 'relay.proto.snmp.community' modal
	option source 'user'
	option inputtype 'string'
	option validator 'alpha_numerical.ne'
	list visibility 'widget.modal.relay_settings'
	option oldbrother 'relay.proto.snmp.port'
	option label 'SNMP-порт'