
# RELAY ADAPTER VARIABLE MODIFIERS FOR DIFFERENT WIDGETS (MODAL OR TABLE)
# =======================================================================
# 'widget.modal.setting.relay' - is for modal
# 'widget.table.list.relay' - is for table
# ----------------------------------------

# MODAL WIDGET
# ============

config modifier
	option target 'relay[].memo'
	option showin 'widget.modal.setting.relay'
	option source 'user'
	option inputtype 'string'
	option validator 'string.ne'
	option oldbrother '0'
	option label 'Введите имя реле (памятка)'

config modifier
	option target 'relay[].embedded'
	option showin 'widget.modal.setting.relay'
	option source 'config'
	option oldbrother 'relay[].memo'
	option label 'Встроенное'

config modifier
	option target 'relay[].state_on'
	option showin 'widget.modal.setting.relay'
	option source 'user'
	option inputtype 'string'
	option validator 'string.ne'
	option oldbrother 'relay[].embedded'
	option label 'Имя состояния ВКЛ.'

config modifier
	option target 'relay[].state_off'
	option showin 'widget.modal.setting.relay'
	option source 'user'
	option inputtype 'string'
	option validator 'string.ne'
	option oldbrother 'relay[].state_on'
	option label 'Имя состояния ВЫКЛ.'

config modifier
	option target 'relay[].proto'
	option showin 'widget.modal.setting.relay'
	option source 'config'
	option inputtype 'list'
	option oldbrother 'relay[].state_off'
	option label 'Выберите протокол'

config modifier
	option target 'relay[].restart_time'
	option showin 'widget.modal.setting.relay'
	option source 'user'
	option inputtype 'number'
	option validator 'number.ne'
	option oldbrother 'relay[].proto'
	option label 'Время перезапуска'

# TABLE WIDGET 
# ============

config modifier
	option target 'relay[].memo'
	option showin 'widget.table.list.relay'
	option source 'config'
	option label 'Памятка'
	option oldbrother '0'

config modifier
	option target 'relay[].embedded'
	option showin 'widget.table.list.relay'
	option source 'config'
	option oldbrother 'relay[].memo'
	option label 'Тип'

config modifier
	option target 'relay[].state'
	option showin 'widget.table.list.relay'
	option source 'config'
	option formula 'CustomState()'
	option oldbrother 'relay[].embedded'
	option label 'Состояние'

config modifier
	option target 'relay[].status'
	option showin 'widget.table.list.relay'
	option source 'config'
	option oldbrother 'relay[].state'
	option label 'Статус'


# PROTOCOL ADAPTER VARIABLE MODIFIERS
# ===================================

config modifier 
	option target 'relay[].proto.http[].address'
	option visibility 'widget.modal.setting.relay'
	option source 'user'
	option inputtype 'string'
	option validator 'ip_colon_port.ne'
	option oldbrother '0'
	option label 'Адрес и порт сервера'

config modifier 
	option target 'relay[].proto.http[].login'
	option visibility 'widget.modal.setting.relay'
	option source 'user'
	option inputtype 'string'
	option validator 'login.ne'
	option oldbrother 'address'
	option label 'Имя пользователя'

config modifier 
	option target 'relay[].proto.http[].password'
	option visibility 'widget.modal.setting.relay'
	option source 'user'
	option inputtype 'string'
	option validator 'password.ne'
	option oldbrother 'login'
	option label 'Пароль'

config modifier 
	option target 'relay[].proto.snmp[].address'
	option visibility 'widget.modal.setting.relay'
	option source 'user'
	option inputtype 'string'
	option validator 'snmp_address.ne'
	option oldbrother '0'
	option label 'SNMP-адрес'

config modifier 
	option target 'relay[].proto.snmp[].port'
	option visibility 'widget.modal.setting.relay'
	option source 'user'
	option inputtype 'string'
	option validator 'snmp_port.ne'
	option oldbrother 'relay[].proto.snmp[].address'
	option label 'SNMP-порт'

config modifier 
	option target 'relay[].proto.snmp[].community'
	option visibility 'widget.modal.setting.relay'
	option source 'user'
	option inputtype 'string'
	option validator 'alpha_numerical.ne'
	option oldbrother 'relay[].proto.snmp[].port'
	option label 'SNMP-порт'